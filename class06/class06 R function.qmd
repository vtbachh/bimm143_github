---
title: "Class 6: R functions"
author: "Vivian Bach (PID:A18497911)"
format: pdf
toc: true
---

## Background

All functions in R have at least 3 things:

- A **name** that we use to call the function.
- One or more input **arguments**
- The **body** the lines of R code that do the work


## Our first function 

Let's write a silly wee function called `add()` to add some numbers (the input argumentd)

```{r}
add <- function(x, y) {
  x+y
}
```

Now we can use this function

```{r}
add(100,1)
```

```{r}
add(x=c(100,1,100), y=1 )
```
> Q. What if I give a multiple element vector to `x` and `y`?

```{r}
add(x=c(100,1), y=c(100,1))
```

> Q. What if I give three inputs to the function?

```{r}
#add(x=c(100,1), y=1, z=1)
```

>Q. What happens if I give only one input to the add function?


```{r}
addnew <- function(x, y=1) {
  x+y
}
```

```{r}
addnew(x=100)
addnew(c(100,1), 100) 
```
If we write our function with input arguments having no default valuse than the user will be required to set them when the use the function> We can give our input arguments "default" valuse 

## A second function

Let's try something more interesting: Make a sequence generating tool...

The `sample()` function can be a useful starting point here:

```{r}
sample(1:10, size=4)
```
>Q. Generating 9 random numbers taken from the input vectore x=1:10?

```{r}
sample(1:10, size=9)
```

>Q. Generating 12 random numbers taken from the input vectore x=1:10?

```{r}
sample(1:10, size= 12, replace=TRUE)
```

> Q. Write code for the `sample()` function that generates nucleotide sequrnce of length 6?

```{r}
sample(c("A", "C", "G", "T"), size =6, replace= TRUE)
```

>Q. Write a first functin `generate_dna()` that returns a *user specified length* DNA sequence: 

```{r}
generate_dna <- function(len=100) {
  sample(c("A", "C", "G", "T"), size =len, replace= TRUE)
}

```

```{r}
generate_dna(len=100)
```
> *Key-points*
Every function in R looks fundamentally the same in terms of its structure. Basically 3 things: name, input, and body

```{r}
name <- function(input) {
  body
}
```

> Functions can have multiple inputs. These can be *required arguments* or *optional* arguments. With optional arguments having a set default value. 


>Q. Modify and improve our `generate_dna` function to return it's generated sequence in a more standard format like "AGTAGTA" rather than vector "A", "T", "C","G"


```{r}
generate_dna <- function(len=6, fasta=TRUE) {
  ans <- sample(c("A", "C", "G", "T"), 
                size =len, replace= TRUE)
  if(fasta) {
    ans <- paste(ans, collapse= "")
  }
 return(ans) 
}
generate_dna()

```

The `past()` function - it's job ia to join up or stick together (a.k.a paste) input strings together 

```{r}
paste("alice","loves R", sep=" ")
```

Flow control means where the R brain goes in your code 
```{r}
good_mood <- TRUE

if(good_mood) {
  cat ("GREAT!")
} else {
  cat("Bummer!")
}

```
## A protien generating function 

> Q. Write a function, called `generate_protien()`, that generates user specified lengh prtien sequence. 

>Q. Use that function to generate protien sequences between length 6 and 12 

>Q. Are any of your sequences unique i.e. not found anywhere in nateure? 

There are 20 natural amino acids
```{r}
aa <-c("A","R","N","D","C","Q","E","G", "H","I","L","K","M","F","P","S","T","W","Y","V")
```

```{r}
generate_protien <- function(len) {
 
   # The amino-acids to sample from 
  aa <- c("A","R","N","D","C","Q","E","G", "H","I","L","K","M","F","P","S","T","W","Y","V")
  #Draw n=len amino acids to make our sequence
  ans <-sample(aa, size=len, replace= T)
  ans <- paste(ans, collapse="")
  return(ans)
}
```

```{r}
myseq <-generate_protien(142)
myseq
```
>Q. Use that function to generate protien sequences between length 6 and 12

```{r}
generate_protien(6)
generate_protien(7)
generate_protien(8)
generate_protien(9)
generate_protien(10)
generate_protien(11)
generate_protien(12)
```

```{r}
for(i in 6:12) {
  #FASTA ID line ">id"
  cat(">",i, sep="", "\n")
  # protien equence line
  cat(generate_protien(i), "\n")
}
```
>Q. Are any of your sequences unique i.e. not found anywhere in nateure? 

Sequence 10 and 12 are unique and not found in nature 



